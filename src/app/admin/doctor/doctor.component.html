<div class="container-xxl position-relative bg-white d-flex p-0">
  <!-- Spinner Start -->
  <div
    id="spinner"
    class="show bg-white position-fixed translate-middle w-100 vh-100 top-50 start-50 d-flex align-items-center justify-content-center"
  >
    <div
      class="spinner-border text-primary"
      style="width: 3rem; height: 3rem"
      role="status"
    >
      <span class="sr-only">Loading...</span>
    </div>
  </div>
  <!-- Spinner End -->

  <!-- Sidebar Start -->
  <app-sidebar></app-sidebar>
  <!-- Sidebar End -->

  <!-- Content Start -->
  <div class="content">
    <!-- Navbar Start -->
    <app-navbar></app-navbar>
    <!-- Navbar End -->

    <!-- Content Start -->
    <div class="container-fluid pt-4 px-4">
      <div
        class="row vh-100 bg-light rounded align-items-center justify-content-center mx-0"
      >
        <div class="bg-light rounded h-100 p-4">
          <div class="d-inline-block w-100">
            <h6 class="mb-4 d-inline">Doctors</h6>
            <h6 class="mb-4 d-inline float-end">
              <a
                role="button"
                href="/admin/dashboard/add-doctor"
                class="btn btn-outline-success"
              >
                Add Doctor
              </a>
            </h6>
          </div>
          <div class="table-responsive">
            <table class="table">
              <thead>
                <tr>
                  <th scope="col">#</th>
                  <th scope="col">Name</th>
                  <th scope="col">Email</th>
                  <th scope="col">Contact No</th>
                  <th scope="col">Speciality</th>
                  <th scope="col">Shift time</th>
                  <th scope="col">Experience</th>
                  <th scope="col">Patient treated</th>
                  <th scope="col">Action</th>
                </tr>
              </thead>
              <tbody>
                <tr *ngFor="let d of doctors; let i = index">
                  <th scope="row">{{ i + 1 }}</th>

                  <!-- Staff details inside doctor object -->
                  <td>{{ d.staff?.name }}</td>
                  <td>{{ d.staff?.email }}</td>
                  <td>{{ d.staff?.contactNo }}</td>

                  <!-- Speciality -->
                  <td>{{ d.speciality?.name }}</td>

                  <!-- Doctor details -->
                  <td>{{ d.staff?.shiftTime }}</td>
                  <td>{{ d.expOfYears }}</td>
                  <td>{{ d.patientsTreated }}</td>

                  <td>
                    <button class="btn btn-outline-primary">
                      <i class="bi bi-pencil-fill"></i>
                    </button>
                    <button
                      class="btn btn-outline-danger ms-2"
                      (click)="showDeleteModal(d.staff.email)"
                    >
                      <i class="bi bi-trash-fill"></i>
                    </button>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
    <!-- Content End -->

    <!-- Footer Start -->
    <app-footer></app-footer>
    <!-- Footer End -->
  </div>
  <!-- Content End -->

  <!-- Back to Top -->
  <a href="#" class="btn btn-lg btn-primary btn-lg-square back-to-top"
    ><i class="bi bi-arrow-up"></i
  ></a>
</div>

<!-- Delete Confirmation Modal -->
<div
  class="modal fade"
  id="deleteModal"
  tabindex="-1"
  aria-labelledby="deleteModalLabel"
  aria-hidden="true"
>
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="deleteModalLabel">Confirm Delete</h5>
        <button
          type="button"
          class="btn-close"
          data-bs-dismiss="modal"
          aria-label="Close"
        ></button>
      </div>
      <div class="modal-body">
        Are you sure you want to delete doctor
        <strong>{{ doctorToDelete }}</strong
        >?
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
          Cancel
        </button>
        <button type="button" class="btn btn-danger" (click)="confirmDelete()">
          Delete
        </button>
      </div>
    </div>
  </div>
</div>

<!-- Success Toast -->
<div
  class="position-fixed top-0 end-0 p-3"
  style="z-index: 1055"
  *ngIf="showToast"
>
  <div
    class="toast show align-items-center text-bg-success custom-toast-success border-0"
  >
    <div class="d-flex">
      <div class="toast-body">
        {{ toastMessage }}
      </div>
      <button
        type="button"
        class="btn-close btn-close-white me-2 m-auto"
        (click)="hideToast()"
      ></button>
    </div>
  </div>
</div>
